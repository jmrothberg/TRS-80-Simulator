10 REM JMR'S BASIC SPACE INVADERS AUG 20 2024
20 REM RUNS ON MY OWN TRS-80 SIMULATOR
30 REM THANKS TO HENRY ROTHBERG FOR GETTING ME THIS TO LEARN ON
100 REM INITIALIZE VARIABLES
105 REM ASCII A 65 S 83 SPACE BAR 32
110 LET S = 15872
120 LET B = 0
130 DIM E(5)
140 LET D = 1
150 LET SC = 0
160 LET LV = 3    
170 LET SP = 20

200 REM INITIALIZE ENEMIES
210 FOR I = 1 TO 5
220 LET E(I) = 15360 + INT(RND * 10) + 64 * (I - 1)
230 NEXT I

300 REM MAIN GAME LOOP
310 GOSUB 1000
320 GOSUB 2000
330 GOSUB 3000
340 GOSUB 4000
350 FOR I = 1 TO SP
360 NEXT I
370 GOTO 300

1000 REM DRAW SCREEN
1010 CLS
1020 PRINT "SCORE:"; SC; " LIVES:"; LV
1030 FOR I = 1 TO 5
1040 IF E(I) > 0 THEN POKE E(I), 42
1050 NEXT I
1060 POKE S, 94
1070 IF B > 0 THEN POKE B, 33
1080 RETURN

2000 REM CHECK INPUT
2010 LET K = PEEK(14400)
2020 IF K = 65 THEN GOSUB 2100
2030 IF K = 83 THEN GOSUB 2200
2040 IF K = 32 THEN GOSUB 2300
2050 RETURN

2100 REM MOVE LEFT
2110 IF S > 15 THEN LET S = S - 1
2120 RETURN

2200 REM MOVE RIGHT
2210 IF S < 15903 THEN LET S = S + 1
2220 RETURN

2300 REM FIRE BULLET
2310 IF B = 0 THEN LET B = S - 64
2320 RETURN

3000 REM UPDATE GAME STATE
3010 IF B > 0 THEN LET B = B - 64
3020 IF B < 15360 THEN LET B = 0
3030 FOR I = 1 TO 5
3040 IF E(I) > 0 THEN LET E(I) = E(I) + D
3050 IF E(I) > 0 THEN GOSUB 3100
3060 NEXT I
3070 RETURN

3100 REM CHECK ENEMY BOUNDARIES
3110 IF E(I) MOD 64 = 0 OR E(I) MOD 64 = 63 THEN GOSUB 3200
3115 REM IF E(I) MOD 64 = 63 THEN GOSUB 3200
3120 RETURN

3200 REM REVERSE DIRECTION AND MOVE DOWN
3210 LET D = -D
3220 GOSUB 3500
3230 RETURN

3500 REM MOVE ENEMIES DOWN
3510 FOR J = 1 TO 5
3520 IF E(J) > 0 THEN LET E(J) = E(J) + 64
3530 NEXT J
3540 RETURN

4000 REM CHECK COLLISIONS
4010 FOR I = 1 TO 5
4020 IF B = E(I) AND B > 0 THEN GOSUB 5000
4030 IF E(I) >= S THEN GOSUB 6000
4040 NEXT I
4050 RETURN

5000 REM HIT ENEMY
5010 LET SC = SC + 10
5020 LET E(I) = 0
5030 LET B = 0
5040 GOSUB 5100
5050 GOSUB 5200
5060 RETURN

5100 REM INCREASE SPEED
5110 IF SP > 5 THEN GOSUB 5150
5120 RETURN

5150 REM DECREASE DELAY
5160 LET T = SC / 50
5170 LET T = T - INT(T)
5180 IF T = 0 THEN LET SP = SP - 1
5190 RETURN

5200 REM CHECK IF ALL ENEMIES DESTROYED
5210 LET C = 0
5220 FOR J = 1 TO 5
5230 IF E(J) > 0 THEN LET C = C + 1
5240 NEXT J
5250 IF C = 0 THEN GOSUB 7000
5260 RETURN

6000 REM PLAYER HIT
6010 LET LV = LV - 1
6020 IF LV = 0 THEN GOTO 8000
6030 FOR I = 1 TO 5
6040 LET E(I) = 0
6050 NEXT I
6060 GOSUB 7000
6070 RETURN

7000 REM RESPAWN ENEMIES
7010 FOR I = 1 TO 5
7020 LET E(I) = 15360 + INT(RND * 10) + 64 * (I - 1)
7030 NEXT I
7040 RETURN

8000 REM GAME OVER
8010 CLS
8020 PRINT "GAME OVER"
8030 PRINT "FINAL SCORE:"; SC
8040 PRINT "PRESS ANY KEY TO RESTART"
8050 IF PEEK(14400) = 0 THEN GOTO 8050
8060 GOTO 100















































































